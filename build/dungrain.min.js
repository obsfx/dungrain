!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dungrain=f()}}(function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){},{}],2:[function(require,module,exports){var alea=require("./lib/alea"),xor128=require("./lib/xor128"),xorwow=require("./lib/xorwow"),xorshift7=require("./lib/xorshift7"),xor4096=require("./lib/xor4096"),tychei=require("./lib/tychei"),sr=require("./seedrandom");sr.alea=alea,sr.xor128=xor128,sr.xorwow=xorwow,sr.xorshift7=xorshift7,sr.xor4096=xor4096,sr.tychei=tychei,module.exports=sr},{"./lib/alea":3,"./lib/tychei":4,"./lib/xor128":5,"./lib/xor4096":6,"./lib/xorshift7":7,"./lib/xorwow":8,"./seedrandom":9}],3:[function(require,module,exports){!function(module,define){function Alea(seed){var n,me=this,mash=(n=4022871197,function(data){data=String(data);for(var i=0;i<data.length;i++){var h=.02519603282416938*(n+=data.charCodeAt(i));h-=n=h>>>0,n=(h*=n)>>>0,n+=4294967296*(h-=n)}return 2.3283064365386963e-10*(n>>>0)});me.next=function(){var t=2091639*me.s0+2.3283064365386963e-10*me.c;return me.s0=me.s1,me.s1=me.s2,me.s2=t-(me.c=0|t)},me.c=1,me.s0=mash(" "),me.s1=mash(" "),me.s2=mash(" "),me.s0-=mash(seed),me.s0<0&&(me.s0+=1),me.s1-=mash(seed),me.s1<0&&(me.s1+=1),me.s2-=mash(seed),me.s2<0&&(me.s2+=1),mash=null}function copy(f,t){return t.c=f.c,t.s0=f.s0,t.s1=f.s1,t.s2=f.s2,t}function impl(seed,opts){var xg=new Alea(seed),state=opts&&opts.state,prng=xg.next;return prng.int32=function(){return 4294967296*xg.next()|0},prng.double=function(){return prng()+11102230246251565e-32*(2097152*prng()|0)},prng.quick=prng,state&&("object"==typeof state&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:define&&define.amd?define(function(){return impl}):this.alea=impl}("object"==typeof module&&module,!1)},{}],4:[function(require,module,exports){!function(module,define){function XorGen(seed){var me=this,strseed="";me.next=function(){var b=me.b,c=me.c,d=me.d,a=me.a;return b=b<<25^b>>>7^c,c=c-d|0,d=d<<24^d>>>8^a,a=a-b|0,me.b=b=b<<20^b>>>12^c,me.c=c=c-d|0,me.d=d<<16^c>>>16^a,me.a=a-b|0},me.a=0,me.b=0,me.c=-1640531527,me.d=1367130551,seed===Math.floor(seed)?(me.a=seed/4294967296|0,me.b=0|seed):strseed+=seed;for(var k=0;k<strseed.length+20;k++)me.b^=0|strseed.charCodeAt(k),me.next()}function copy(f,t){return t.a=f.a,t.b=f.b,t.c=f.c,t.d=f.d,t}function impl(seed,opts){function prng(){return(xg.next()>>>0)/4294967296}var xg=new XorGen(seed),state=opts&&opts.state;return prng.double=function(){do{var result=((xg.next()>>>11)+(xg.next()>>>0)/4294967296)/(1<<21)}while(0===result);return result},prng.int32=xg.next,prng.quick=prng,state&&("object"==typeof state&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:define&&define.amd?define(function(){return impl}):this.tychei=impl}("object"==typeof module&&module,!1)},{}],5:[function(require,module,exports){!function(module,define){function XorGen(seed){var me=this,strseed="";me.x=0,me.y=0,me.z=0,me.w=0,me.next=function(){var t=me.x^me.x<<11;return me.x=me.y,me.y=me.z,me.z=me.w,me.w^=me.w>>>19^t^t>>>8},seed===(0|seed)?me.x=seed:strseed+=seed;for(var k=0;k<strseed.length+64;k++)me.x^=0|strseed.charCodeAt(k),me.next()}function copy(f,t){return t.x=f.x,t.y=f.y,t.z=f.z,t.w=f.w,t}function impl(seed,opts){function prng(){return(xg.next()>>>0)/4294967296}var xg=new XorGen(seed),state=opts&&opts.state;return prng.double=function(){do{var result=((xg.next()>>>11)+(xg.next()>>>0)/4294967296)/(1<<21)}while(0===result);return result},prng.int32=xg.next,prng.quick=prng,state&&("object"==typeof state&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:define&&define.amd?define(function(){return impl}):this.xor128=impl}("object"==typeof module&&module,!1)},{}],6:[function(require,module,exports){!function(module,define){function XorGen(seed){var me=this;me.next=function(){var t,v,w=me.w,X=me.X,i=me.i;return me.w=w=w+1640531527|0,v=X[i+34&127],t=X[i=i+1&127],v^=v<<13,t^=t<<17,v^=v>>>15,t^=t>>>12,v=X[i]=v^t,me.i=i,v+(w^w>>>16)|0},function(me,seed){var t,v,i,j,w,X=[],limit=128;for(seed===(0|seed)?(v=seed,seed=null):(seed+="\0",v=0,limit=Math.max(limit,seed.length)),i=0,j=-32;j<limit;++j)seed&&(v^=seed.charCodeAt((j+32)%seed.length)),0===j&&(w=v),v^=v<<10,v^=v>>>15,v^=v<<4,v^=v>>>13,0<=j&&(w=w+1640531527|0,i=0==(t=X[127&j]^=v+w)?i+1:0);for(128<=i&&(X[127&(seed&&seed.length||0)]=-1),i=127,j=512;0<j;--j)v=X[i+34&127],t=X[i=i+1&127],v^=v<<13,t^=t<<17,v^=v>>>15,t^=t>>>12,X[i]=v^t;me.w=w,me.X=X,me.i=i}(me,seed)}function copy(f,t){return t.i=f.i,t.w=f.w,t.X=f.X.slice(),t}function impl(seed,opts){null==seed&&(seed=+new Date);function prng(){return(xg.next()>>>0)/4294967296}var xg=new XorGen(seed),state=opts&&opts.state;return prng.double=function(){do{var result=((xg.next()>>>11)+(xg.next()>>>0)/4294967296)/(1<<21)}while(0===result);return result},prng.int32=xg.next,prng.quick=prng,state&&(state.X&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:define&&define.amd?define(function(){return impl}):this.xor4096=impl}("object"==typeof module&&module,!1)},{}],7:[function(require,module,exports){!function(module,define){function XorGen(seed){var me=this;me.next=function(){var t,v,X=me.x,i=me.i;return t=X[i],v=(t^=t>>>7)^t<<24,v^=(t=X[i+1&7])^t>>>10,v^=(t=X[i+3&7])^t>>>3,v^=(t=X[i+4&7])^t<<7,t=X[i+7&7],v^=(t^=t<<13)^t<<9,X[i]=v,me.i=i+1&7,v},function(me,seed){var j,X=[];if(seed===(0|seed))X[0]=seed;else for(seed=""+seed,j=0;j<seed.length;++j)X[7&j]=X[7&j]<<15^seed.charCodeAt(j)+X[j+1&7]<<13;for(;X.length<8;)X.push(0);for(j=0;j<8&&0===X[j];++j);for(8==j?X[7]=-1:X[j],me.x=X,me.i=0,j=256;0<j;--j)me.next()}(me,seed)}function copy(f,t){return t.x=f.x.slice(),t.i=f.i,t}function impl(seed,opts){null==seed&&(seed=+new Date);function prng(){return(xg.next()>>>0)/4294967296}var xg=new XorGen(seed),state=opts&&opts.state;return prng.double=function(){do{var result=((xg.next()>>>11)+(xg.next()>>>0)/4294967296)/(1<<21)}while(0===result);return result},prng.int32=xg.next,prng.quick=prng,state&&(state.x&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:define&&define.amd?define(function(){return impl}):this.xorshift7=impl}("object"==typeof module&&module,!1)},{}],8:[function(require,module,exports){!function(module,define){function XorGen(seed){var me=this,strseed="";me.next=function(){var t=me.x^me.x>>>2;return me.x=me.y,me.y=me.z,me.z=me.w,me.w=me.v,(me.d=me.d+362437|0)+(me.v=me.v^me.v<<4^t^t<<1)|0},me.x=0,me.y=0,me.z=0,me.w=0,seed===((me.v=0)|seed)?me.x=seed:strseed+=seed;for(var k=0;k<strseed.length+64;k++)me.x^=0|strseed.charCodeAt(k),k==strseed.length&&(me.d=me.x<<10^me.x>>>4),me.next()}function copy(f,t){return t.x=f.x,t.y=f.y,t.z=f.z,t.w=f.w,t.v=f.v,t.d=f.d,t}function impl(seed,opts){function prng(){return(xg.next()>>>0)/4294967296}var xg=new XorGen(seed),state=opts&&opts.state;return prng.double=function(){do{var result=((xg.next()>>>11)+(xg.next()>>>0)/4294967296)/(1<<21)}while(0===result);return result},prng.int32=xg.next,prng.quick=prng,state&&("object"==typeof state&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:define&&define.amd?define(function(){return impl}):this.xorwow=impl}("object"==typeof module&&module,!1)},{}],9:[function(require,module,exports){!function(global,pool,math){var nodecrypto,width=256,startdenom=math.pow(width,6),significance=math.pow(2,52),overflow=2*significance,mask=width-1;function seedrandom(seed,options,callback){function prng(){for(var n=arc4.g(6),d=startdenom,x=0;n<significance;)n=(n+x)*width,d*=width,x=arc4.g(1);for(;overflow<=n;)n/=2,d/=2,x>>>=1;return(n+x)/d}var key=[],shortseed=mixkey(function flatten(obj,depth){var prop,result=[],typ=typeof obj;if(depth&&"object"==typ)for(prop in obj)try{result.push(flatten(obj[prop],depth-1))}catch(e){}return result.length?result:"string"==typ?obj:obj+"\0"}((options=1==options?{entropy:!0}:options||{}).entropy?[seed,tostring(pool)]:null==seed?function(){try{var out;return nodecrypto&&(out=nodecrypto.randomBytes)?out=out(width):(out=new Uint8Array(width),(global.crypto||global.msCrypto).getRandomValues(out)),tostring(out)}catch(e){var browser=global.navigator,plugins=browser&&browser.plugins;return[+new Date,global,plugins,global.screen,tostring(pool)]}}():seed,3),key),arc4=new ARC4(key);return prng.int32=function(){return 0|arc4.g(4)},prng.quick=function(){return arc4.g(4)/4294967296},prng.double=prng,mixkey(tostring(arc4.S),pool),(options.pass||callback||function(prng,seed,is_math_call,state){return state&&(state.S&&copy(state,arc4),prng.state=function(){return copy(arc4,{})}),is_math_call?(math.random=prng,seed):prng})(prng,shortseed,"global"in options?options.global:this==math,options.state)}function ARC4(key){var t,keylen=key.length,me=this,i=0,j=me.i=me.j=0,s=me.S=[];for(keylen||(key=[keylen++]);i<width;)s[i]=i++;for(i=0;i<width;i++)s[i]=s[j=mask&j+key[i%keylen]+(t=s[i])],s[j]=t;(me.g=function(count){for(var t,r=0,i=me.i,j=me.j,s=me.S;count--;)t=s[i=mask&i+1],r=r*width+s[mask&(s[i]=s[j=mask&j+t])+(s[j]=t)];return me.i=i,me.j=j,r})(width)}function copy(f,t){return t.i=f.i,t.j=f.j,t.S=f.S.slice(),t}function mixkey(seed,key){for(var smear,stringseed=seed+"",j=0;j<stringseed.length;)key[mask&j]=mask&(smear^=19*key[mask&j])+stringseed.charCodeAt(j++);return tostring(key)}function tostring(a){return String.fromCharCode.apply(0,a)}if(mixkey(math.random(),pool),"object"==typeof module&&module.exports){module.exports=seedrandom;try{nodecrypto=require("crypto")}catch(ex){}}else math.seedrandom=seedrandom}("undefined"!=typeof self?self:this,[],Math)},{crypto:1}],10:[function(require,module,exports){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var Main_1=__importDefault(require("./modules/Main"));module.exports=Main_1.default},{"./modules/Main":13}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(Interfaces){!function(Direction){Direction[Direction.VERTICAL=0]="VERTICAL",Direction[Direction.HORIZONTAL=1]="HORIZONTAL"}(Interfaces.Direction||(Interfaces.Direction={}))}(exports.Interfaces||(exports.Interfaces={}))},{}],12:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(args){var errors=[];return void 0===args?errors.push("please pass necessary arguments. [ iterationCount, column, row, indexMap ]"):("string"!=typeof args.seed&&void 0!==args.seed&&errors.push("seed value must be a string."),"number"!=typeof args.iterationCount&&errors.push("iterationCount value must be a number."),"number"!=typeof args.column&&errors.push("column value must be a number."),"number"!=typeof args.row&&errors.push("row value must be a number."),"number"!=typeof args.minimumWHRatio&&void 0!==args.minimumWHRatio&&errors.push("minimumWHRatio value must be a number."),"number"!=typeof args.maximumWHRatio&&void 0!==args.maximumWHRatio&&errors.push("maximumWHRatio value must be a number."),"number"!=typeof args.minimumChunkWidth&&void 0!==args.minimumChunkWidth&&errors.push("minimumChunkWidth value must be a number."),"number"!=typeof args.minimumChunkHeight&&void 0!==args.minimumChunkHeight&&errors.push("minimumChunkHeight value must be a number."),void 0!==args.indexMap?("number"!=typeof args.indexMap.Wall&&errors.push("indexMap.Wall value must be a number."),"number"!=typeof args.indexMap.Path&&errors.push("indexMap.Path value must be a number."),"number"!=typeof args.indexMap.Room&&errors.push("indexMap.Room value must be a number."),"number"!=typeof args.indexMap.Empty&&errors.push("indexMap.Empty value must be a number.")):errors.push('indexMap object couldn\'t found. you must define "Wall, Path, Room, Empty" indices in indexMap object.'),args.iterationCount<0&&errors.push("iterationCount can't be less than zero."),args.column<0&&errors.push("column can't be less than zero."),args.row<0&&errors.push("row can't be less than zero."),"number"==typeof args.minimumWHRatio&&args.minimumWHRatio<0&&errors.push("minimumWHRatiocan't be less than zero."),"number"==typeof args.maximumWHRatio&&args.maximumWHRatio<0&&errors.push("maximumWHRatio can't be less than zero."),"number"==typeof args.minimumChunkWidth&&args.minimumChunkWidth<0&&errors.push("minimumChunkWidth can't be less than zero."),"number"==typeof args.minimumChunkHeight&&args.minimumChunkHeight<0&&errors.push("minimumChunkHeight can't be less than zero."),args.minimumWHRatio&&args.maximumWHRatio&&args.minimumWHRatio>args.maximumWHRatio&&errors.push("minimumWHRatio can't be greater than maximumWHRatio.")),errors}},{}],13:[function(require,module,exports){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var interfaces_namespace_1=require("../interfaces.namespace"),seedrandom_1=__importDefault(require("seedrandom")),Node_1=__importDefault(require("./Node")),Room_1=__importDefault(require("./Room")),Path_1=__importDefault(require("./Path")),InputErrorHandler_1=__importDefault(require("./InputErrorHandler")),Main=function(){function Main(args){var errors=InputErrorHandler_1.default(args);if(0<errors.length)throw new Error("dungrain error: please check your arguments. \n"+errors.join("\n"));this.seed=args.seed||Date.now().toString(16),this.iterationCount=args.iterationCount,this.column=args.column,this.row=args.row,this.minimumWHRatio=args.minimumWHRatio||.5,this.maximumWHRatio=args.maximumWHRatio||2,this.minimumChunkWidth=args.minimumChunkWidth||8,this.minimumChunkHeight=args.minimumChunkHeight||8,this.indexMap=args.indexMap,this.RNG=seedrandom_1.default(this.seed),this.arrayMap=this.createEmptyArrayMap(this.column,this.row),this.root=new Node_1.default({x:0,y:0,w:this.column,h:this.row,minRatio:this.minimumWHRatio,maxRatio:this.maximumWHRatio,minWidth:this.minimumChunkWidth,minHeight:this.minimumChunkHeight},this.RNG),this.root.split(this.iterationCount),this.root.generateRoomChunks(),this.root.createPathChunks(),this.allFloors=[],this.roomChunks=this.root.getRoomChunks(),this.pathChunks=this.root.getPathChunks(),this.rooms=[],this.paths=[],this.constructArrayMap()}return Main.prototype.createEmptyArrayMap=function(col,row){for(var arrayMap=[],i=0;i<row;i++){arrayMap.push([]);for(var j=0;j<col;j++)arrayMap[i].push(this.indexMap.Empty)}return arrayMap},Main.prototype.placeWalls=function(){var _this=this;this.roomChunks.forEach(function(chunk){for(var yStart=3<chunk.h?chunk.y:chunk.y-1,yTarget=3<chunk.h?chunk.y+chunk.h:chunk.y+chunk.h+1,xStart=3<chunk.w?chunk.x:chunk.x-1,xTarget=3<chunk.w?chunk.x+chunk.w:chunk.x+chunk.w+1,i=yStart;i<yTarget;i++)for(var j=xStart;j<xTarget;j++)-1<i&&i<_this.row&&-1<j&&j<_this.column&&(_this.arrayMap[i][j]=_this.indexMap.Wall)}),this.pathChunks.forEach(function(path){for(var i=path.y1-1;i<path.y1+path.h+1;i++)for(var j=path.x1-1;j<path.x1+path.w+1;j++)-1<i&&i<_this.row&&-1<j&&j<_this.column&&(_this.arrayMap[i][j]=_this.indexMap.Wall)})},Main.prototype.placePaths=function(){var _this=this;this.pathChunks.forEach(function(path){for(var startPoint=null,floors=[],i=path.y1;i<path.y1+path.h;i++)for(var j=path.x1;j<path.x1+path.w;j++)0==i||i==_this.row-1||0==j||j==_this.column-1?_this.arrayMap[i][j]=_this.indexMap.Wall:(null==startPoint&&(startPoint={x:j,y:i}),floors.push({x:j,y:i}),_this.arrayMap[i][j]=_this.indexMap.Path,_this.allFloors.push({x:j,y:i,type:_this.indexMap.Path}));null!=startPoint&&_this.paths.push(new Path_1.default({startPoint:startPoint,floors:floors,direction:path.w==_this.root.pathWidth?interfaces_namespace_1.Interfaces.Direction.VERTICAL:interfaces_namespace_1.Interfaces.Direction.HORIZONTAL,width:path.w==_this.root.pathWidth?path.h:path.w}))})},Main.prototype.placeRooms=function(){var _this=this;this.roomChunks.forEach(function(chunk){for(var yStart=3<chunk.h?chunk.y+1:chunk.y,yTarget=3<chunk.h?chunk.y+chunk.h-1:chunk.y+chunk.h,xStart=3<chunk.w?chunk.x+1:chunk.x,xTarget=3<chunk.w?chunk.x+chunk.w-1:chunk.x+chunk.w,roomTopLeft=null,floors=[],i=yStart;i<yTarget;i++)for(var j=xStart;j<xTarget;j++)0==i||i==_this.row-1||0==j||j==_this.column-1?_this.arrayMap[i][j]=_this.indexMap.Wall:(null==roomTopLeft&&(roomTopLeft={x:j,y:i}),floors.push({x:j,y:i}),_this.arrayMap[i][j]=_this.indexMap.Room,_this.allFloors.push({x:j,y:i,type:_this.indexMap.Room}));null!=roomTopLeft&&_this.rooms.push(new Room_1.default(roomTopLeft,floors))})},Main.prototype.constructArrayMap=function(){this.placeWalls(),this.placePaths(),this.placeRooms()},Main.prototype.getSeed=function(){return this.seed},Main.prototype.getRooms=function(){return this.rooms},Main.prototype.getPaths=function(){return this.paths},Main.prototype.getAllFloors=function(){return this.allFloors},Main.prototype.getMap=function(){return this.arrayMap},Main}();exports.default=Main},{"../interfaces.namespace":11,"./InputErrorHandler":12,"./Node":14,"./Path":15,"./Room":17,seedrandom:2}],14:[function(require,module,exports){"use strict";var __spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var interfaces_namespace_1=require("../interfaces.namespace"),PathChunk_1=__importDefault(require("./PathChunk")),RoomChunk_1=__importDefault(require("./RoomChunk")),Node=function(){function Node(chunk,RNG){this.chunk=chunk,this.left=null,this.right=null,this.roomChunk=null,this.pathChunks=[],this.pathWidth=1,this.Direction=interfaces_namespace_1.Interfaces.Direction.VERTICAL,this.isSplit=!1,this.RNG=RNG}return Node.prototype.random=function(min,max){return Math.floor(this.RNG()*(max-min))+min},Node.prototype.split=function(iterationCount){this.isSplit=!0,this.Direction=.5<this.RNG()?interfaces_namespace_1.Interfaces.Direction.VERTICAL:interfaces_namespace_1.Interfaces.Direction.HORIZONTAL;var ratio=this.chunk.w/this.chunk.h;ratio<=this.chunk.minRatio?this.Direction=interfaces_namespace_1.Interfaces.Direction.HORIZONTAL:ratio>=this.chunk.maxRatio&&(this.Direction=interfaces_namespace_1.Interfaces.Direction.VERTICAL);var shiftOffset=this.Direction==interfaces_namespace_1.Interfaces.Direction.VERTICAL?this.random(-this.chunk.w/4,this.chunk.w/4):this.random(-this.chunk.h/4,this.chunk.h/4);this.left=new Node({x:this.chunk.x,y:this.chunk.y,w:this.Direction==interfaces_namespace_1.Interfaces.Direction.VERTICAL?this.chunk.w/2+shiftOffset:this.chunk.w,h:this.Direction==interfaces_namespace_1.Interfaces.Direction.VERTICAL?this.chunk.h:this.chunk.h/2+shiftOffset,minRatio:this.chunk.minRatio,maxRatio:this.chunk.maxRatio,minWidth:this.chunk.minWidth,minHeight:this.chunk.minHeight},this.RNG),this.right=new Node({x:this.Direction==interfaces_namespace_1.Interfaces.Direction.VERTICAL?this.chunk.x+this.chunk.w/2+shiftOffset:this.chunk.x,y:this.Direction==interfaces_namespace_1.Interfaces.Direction.VERTICAL?this.chunk.y:this.chunk.y+this.chunk.h/2+shiftOffset,w:this.Direction==interfaces_namespace_1.Interfaces.Direction.VERTICAL?this.chunk.w/2-shiftOffset:this.chunk.w,h:this.Direction==interfaces_namespace_1.Interfaces.Direction.VERTICAL?this.chunk.h:this.chunk.h/2-shiftOffset,minRatio:this.chunk.minRatio,maxRatio:this.chunk.maxRatio,minWidth:this.chunk.minWidth,minHeight:this.chunk.minHeight},this.RNG),0<iterationCount&&(this.left.chunk.w>this.left.chunk.minWidth&&this.left.chunk.h>this.left.chunk.minHeight&&this.left.split(iterationCount-1),this.right.chunk.w>this.right.chunk.minWidth&&this.right.chunk.h>this.right.chunk.minHeight&&this.right.split(iterationCount-1))},Node.prototype.generateRoomChunks=function(){if(!this.isSplit){var x=Math.floor(this.chunk.x+this.random(.2*this.chunk.w,.25*this.chunk.w)),y=Math.floor(this.chunk.y+this.random(.2*this.chunk.h,.25*this.chunk.h)),w=Math.floor(this.random(.6*this.chunk.w,.7*this.chunk.w)),h=Math.floor(this.random(.6*this.chunk.h,.7*this.chunk.h));this.roomChunk=new RoomChunk_1.default(x,y,w,h)}null!=this.left&&this.left.generateRoomChunks(),null!=this.right&&this.right.generateRoomChunks()},Node.prototype.constructPathChunks=function(a,b,direction,pathWidth){var x1=Math.floor(a.x),y1=Math.floor(a.y),x2=Math.floor(b.x),y2=Math.floor(b.y),w=direction==interfaces_namespace_1.Interfaces.Direction.VERTICAL?x2-x1:pathWidth,h=direction==interfaces_namespace_1.Interfaces.Direction.VERTICAL?pathWidth:y2-y1;return new PathChunk_1.default(x1,y1,x2,y2,w,h)},Node.prototype.createPathChunks=function(){null!=this.left&&null!=this.right&&(this.pathChunks.push(this.constructPathChunks({x:this.left.chunk.x+this.left.chunk.w/4,y:this.left.chunk.y+this.left.chunk.h/4},{x:this.right.chunk.x+this.right.chunk.w/1.5,y:this.right.chunk.y+this.right.chunk.h/1.5},this.Direction,this.pathWidth)),this.left.createPathChunks(),this.right.createPathChunks())},Node.prototype.getChunks=function(){var chunkArr=[this.chunk];return null!=this.left&&null!=this.right&&(chunkArr=__spreadArrays(chunkArr,this.left.getChunks(),this.right.getChunks())),chunkArr},Node.prototype.getRoomChunks=function(){var roomArr=[];return null!=this.roomChunk&&roomArr.push(this.roomChunk),null!=this.left&&null!=this.right&&(roomArr=__spreadArrays(roomArr,this.left.getRoomChunks(),this.right.getRoomChunks())),roomArr},Node.prototype.getPathChunks=function(){var pathArr=this.pathChunks;return null!=this.left&&null!=this.right&&(pathArr=__spreadArrays(pathArr,this.left.getPathChunks(),this.right.getPathChunks())),pathArr},Node}();exports.default=Node},{"../interfaces.namespace":11,"./PathChunk":16,"./RoomChunk":18}],15:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});function Path(args){this.startPoint=args.startPoint,this.floors=args.floors,this.direction=args.direction,this.width=args.width}exports.default=Path},{}],16:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});function PathChunk(x1,y1,x2,y2,w,h){this.x1=x1,this.y1=y1,this.x2=x2,this.y2=y2,this.w=w,this.h=h}exports.default=PathChunk},{}],17:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});function Room(topLeftCorner,floors){this.topLeftCorner=topLeftCorner,this.floors=floors}exports.default=Room},{}],18:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});function RoomChunk(x,y,w,h){this.x=x,this.y=y,this.w=w,this.h=h}exports.default=RoomChunk},{}]},{},[10])(10)});